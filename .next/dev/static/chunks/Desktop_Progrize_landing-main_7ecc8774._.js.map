{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohith/Desktop/Progrize_landing-main/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)"],"names":[],"mappings":";;;;AAEoB;AAFpB;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,iOAAY,EAAC,aAAa"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohith/Desktop/Progrize_landing-main/app/profile/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { supabase } from \"@/lib/supabase\";\nimport { useRouter } from \"next/navigation\";\nimport type { User } from \"@supabase/supabase-js\";\nimport Image from \"next/image\";\n\nexport default function ProfilePage() {\n  const router = useRouter();\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [occupation, setOccupation] = useState(\"\");\n  const [country, setCountry] = useState(\"\");\n  const [avatarUrl, setAvatarUrl] = useState(\"\");\n  const [uploading, setUploading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  useEffect(() => {\n    // Check authentication and load profile\n    const loadProfile = async () => {\n      const { data: { user } } = await supabase.auth.getUser();\n      if (!user) {\n        router.push(\"/\");\n        return;\n      }\n      setUser(user);\n      \n      // Load profile data from profiles table\n      const { data: profile } = await supabase\n        .from(\"profiles\")\n        .select(\"*\")\n        .eq(\"id\", user.id)\n        .single();\n\n      if (profile) {\n        setFirstName(profile.first_name || \"\");\n        setLastName(profile.last_name || \"\");\n        setOccupation(profile.occupation || \"\");\n        setCountry(profile.country || \"\");\n        setAvatarUrl(profile.avatar_url || \"\");\n      }\n      \n      setLoading(false);\n    };\n\n    loadProfile();\n  }, [router]);\n\n  const handleImageUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (!e.target.files || e.target.files.length === 0 || !user) {\n      return;\n    }\n\n    const file = e.target.files[0];\n    setUploading(true);\n\n    try {\n      // Create a unique file name\n      const fileExt = file.name.split(\".\").pop();\n      const fileName = `${user.id}-${Math.random()}.${fileExt}`;\n      const filePath = `avatars/${fileName}`;\n\n      // Upload to Supabase Storage - use correct bucket name with hyphen\n      const { error: uploadError } = await supabase.storage\n        .from(\"profile-pictures\")\n        .upload(filePath, file, { upsert: true });\n\n      if (uploadError) throw uploadError;\n\n      // Get public URL\n      const { data } = supabase.storage\n        .from(\"profile-pictures\")\n        .getPublicUrl(filePath);\n\n      const publicUrl = data.publicUrl;\n      setAvatarUrl(publicUrl);\n\n      // Update profiles table\n      await supabase\n        .from(\"profiles\")\n        .upsert({\n          id: user.id,\n          avatar_url: publicUrl,\n          updated_at: new Date().toISOString()\n        });\n\n      setMessage(\"Profile picture updated successfully!\");\n      setTimeout(() => setMessage(\"\"), 3000);\n    } catch (error) {\n      console.error(\"Error uploading image:\", error);\n      setMessage(\"Error uploading image. Please try again.\");\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const handleSave = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setSaving(true);\n    setMessage(\"\");\n\n    try {\n      if (!user) return;\n\n      // Update profiles table\n      const { error } = await supabase\n        .from(\"profiles\")\n        .upsert({\n          id: user.id,\n          first_name: firstName,\n          last_name: lastName,\n          full_name: `${firstName} ${lastName}`,\n          occupation: occupation || null,\n          country: country || null,\n          avatar_url: avatarUrl,\n          updated_at: new Date().toISOString()\n        });\n\n      if (error) throw error;\n\n      setMessage(\"Profile updated successfully!\");\n      setTimeout(() => setMessage(\"\"), 3000);\n    } catch (error) {\n      console.error(\"Error updating profile:\", error);\n      setMessage(\"Error updating profile. Please try again.\");\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <p className=\"text-gray-600\">Loading...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Navbar */}\n      <nav className=\"bg-white border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-8 h-8 bg-[#162f16] rounded\"></div>\n            <span className=\"text-2xl font-semibold\">Progrize</span>\n          </div>\n\n          <div className=\"hidden md:flex items-center gap-8 text-gray-600\">\n            <a href=\"#\" className=\"hover:text-gray-900\">Features</a>\n            <a href=\"#\" className=\"hover:text-gray-900\">Testimonials</a>\n            <a href=\"#\" className=\"hover:text-gray-900\">Resources</a>\n          </div>\n\n          <div className=\"flex items-center gap-3\">\n            {avatarUrl ? (\n              <Image\n                src={avatarUrl}\n                alt=\"Profile\"\n                width={40}\n                height={40}\n                className=\"rounded-full object-cover\"\n              />\n            ) : (\n              <div className=\"w-10 h-10 rounded-full bg-[#162f16] text-white flex items-center justify-center font-semibold\">\n                {firstName.charAt(0) || \"U\"}\n              </div>\n            )}\n            <span className=\"text-gray-900 font-medium\">\n              {firstName} {lastName}\n            </span>\n          </div>\n        </div>\n      </nav>\n\n      {/* Main Content */}\n      <div className=\"max-w-7xl mx-auto px-6 py-12\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          {/* Left Column - Profile Form */}\n          <div className=\"lg:col-span-2\">\n            <h1 className=\"text-4xl font-regular text-gray-900 mb-2\">\n              Hey {firstName || \"User\"} !\n            </h1>\n            <p className=\"text-gray-600 text-sm mb-8 max-w-2xl\">\n              Progrize is your all-in-one career platform â€” discover jobs, mentorship, referrals, and growth opportunities. For professionals and organisations.\n            </p>\n\n            <div className=\"flex items-start gap-6 mb-8\">\n              {/* Profile Picture */}\n              <div className=\"flex flex-col items-center gap-3\">\n                {avatarUrl ? (\n                  <Image\n                    src={avatarUrl}\n                    alt=\"Profile\"\n                    width={120}\n                    height={120}\n                    className=\"rounded-2xl object-cover\"\n                  />\n                ) : (\n                  <div className=\"w-[120px] h-[120px] rounded-2xl bg-gray-200 flex items-center justify-center\">\n                    <svg className=\"w-12 h-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n                    </svg>\n                  </div>\n                )}\n                <label className=\"px-6 py-2 border border-gray-300 rounded-md text-sm hover:bg-gray-50 cursor-pointer transition\">\n                  {uploading ? \"Uploading...\" : \"Upload\"}\n                  <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    onChange={handleImageUpload}\n                    disabled={uploading}\n                    className=\"hidden\"\n                  />\n                </label>\n              </div>\n\n              {/* Form Fields */}\n              <form onSubmit={handleSave} className=\"flex-1 space-y-6\">\n                {/* Name Fields */}\n                <div>\n                  <label className=\"block text-sm text-gray-700 mb-2\">\n                    What should we call you ?\n                  </label>\n                  <div className=\"grid grid-cols-2 gap-3\">\n                    <input\n                      type=\"text\"\n                      value={firstName}\n                      onChange={(e) => setFirstName(e.target.value)}\n                      placeholder=\"Rohith Nair\"\n                      className=\"px-4 py-3 rounded-md border border-gray-300 focus:outline-none text-sm bg-white focus:ring-2 focus:ring-primary\"\n                      required\n                    />\n                    <input\n                      type=\"text\"\n                      value={lastName}\n                      onChange={(e) => setLastName(e.target.value)}\n                      placeholder=\"Reghu\"\n                      className=\"px-4 py-3 rounded-md border border-gray-300 focus:outline-none text-sm bg-white focus:ring-2 focus:ring-primary\"\n                      required\n                    />\n                  </div>\n                </div>\n\n                {/* Occupation and Country */}\n                <div className=\"grid grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm text-gray-700 mb-2\">\n                      What&apos;s your occupation or industry ?\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={occupation}\n                      onChange={(e) => setOccupation(e.target.value)}\n                      placeholder=\"Product Designer\"\n                      className=\"w-full px-4 py-3 rounded-md border border-gray-300 focus:outline-none text-sm bg-white focus:ring-2 focus:ring-primary\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm text-gray-700 mb-2\">\n                      Your country?\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={country}\n                      onChange={(e) => setCountry(e.target.value)}\n                      placeholder=\"United Kingdom\"\n                      className=\"w-full px-4 py-3 rounded-md border border-gray-300 focus:outline-none text-sm bg-white focus:ring-2 focus:ring-primary\"\n                    />\n                  </div>\n                </div>\n\n                {/* Success/Error Message */}\n                {message && (\n                  <p className={`text-sm ${message.includes(\"Error\") ? \"text-red-600\" : \"text-green-600\"}`}>\n                    {message}\n                  </p>\n                )}\n\n                {/* Save Button */}\n                <button\n                  type=\"submit\"\n                  disabled={saving}\n                  className=\"px-8 py-3 bg-[#162f16] text-white rounded-md text-sm font-semibold hover:bg-[#0f2310] transition disabled:opacity-50\"\n                >\n                  {saving ? \"Saving...\" : \"Save Changes\"}\n                </button>\n              </form>\n            </div>\n          </div>\n\n          {/* Right Column - Communities */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"bg-white rounded-2xl p-6 border border-gray-200\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n                Your Communities\n              </h3>\n              <div className=\"space-y-3\">\n                <div className=\"text-gray-700 text-sm\">\n                  # Product Designers\n                </div>\n                <div className=\"text-gray-700 text-sm\">\n                  # jobhubters\n                </div>\n                <div className=\"text-gray-700 text-sm\">\n                  # Uk jobs\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}