{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohith/Desktop/Progrize_landing-main/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)"],"names":[],"mappings":";;;;AAEoB;AAFpB;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,iOAAY,EAAC,aAAa"}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohith/Desktop/Progrize_landing-main/public/logo.svg.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 159, height: 46, blurWidth: 0, blurHeight: 0};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,0KAAG;IAAE,OAAO;IAAK,QAAQ;IAAI,WAAW;IAAG,YAAY;AAAC"}},
    {"offset": {"line": 44, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohith/Desktop/Progrize_landing-main/app/Navbar.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { supabase } from \"@/lib/supabase\";\nimport type { User } from \"@supabase/supabase-js\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { useRouter, usePathname } from \"next/navigation\";\nimport logo from \"../public/logo.svg\";\n\ninterface NavbarProps {\n  onAuthClick: (mode: \"sign_in\" | \"sign_up\") => void;\n}\n\nexport default function Navbar({ onAuthClick }: NavbarProps) {\n  const router = useRouter();\n  const pathname = usePathname();\n  const [user, setUser] = useState<User | null>(null);\n  const [dropdownOpen, setDropdownOpen] = useState(false);\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n\n  useEffect(() => {\n    // Get initial session\n    supabase.auth.getSession().then(({ data: { session } }) => {\n      setUser(session?.user ?? null);\n    });\n\n    // Listen for auth changes\n    const {\n      data: { subscription },\n    } = supabase.auth.onAuthStateChange((_event, session) => {\n      setUser(session?.user ?? null);\n    });\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  const handleSignOut = async () => {\n    await supabase.auth.signOut();\n    setDropdownOpen(false);\n    router.push(\"/\");\n  };\n\n  const handleCommunityClick = () => {\n    if (!user) {\n      onAuthClick(\"sign_in\");\n    } else {\n      router.push(\"/community\");\n    }\n    setMobileMenuOpen(false);\n  };\n\n  const getUserName = () => {\n    if (user?.user_metadata?.first_name) {\n      return `${user.user_metadata.first_name} ${user.user_metadata.last_name || \"\"}`.trim();\n    }\n    if (user?.email) {\n      return user.email.split(\"@\")[0];\n    }\n    return \"User\";\n  };\n\n  const getAvatarUrl = () => {\n    return user?.user_metadata?.avatar_url || \"\";\n  };\n\n  const getInitial = () => {\n    if (user?.user_metadata?.first_name) {\n      return user.user_metadata.first_name.charAt(0).toUpperCase();\n    }\n    if (user?.email) {\n      return user.email.charAt(0).toUpperCase();\n    }\n    return \"U\";\n  };\n\n  return (\n    <header className=\"py-6 bg-white border-b border-gray-100 sticky top-0 z-40\">\n      <div className=\"container mx-auto flex items-center justify-between px-4\">\n        \n        {/* Logo */}\n        <div className=\"flex items-center gap-3\">\n          <Link href=\"/\">\n            <Image src={logo} alt=\"Progrize logo\" className=\"w-auto h-8\" />\n          </Link>\n        </div>\n\n        {/* Desktop Nav */}\n        <nav className=\"hidden md:flex items-center gap-10 text-sm tracking-wider text-gray-600\">\n          <a href=\"#features\" className=\"hover:text-[#162f16] transition\">Features</a>\n          <a href=\"#testimonials\" className=\"hover:text-[#162f16] transition\">Testimonials</a>\n          <a href=\"/upcoming\" className=\"hover:text-[#162f16] transition\">Resources</a>\n          <button\n            onClick={handleCommunityClick}\n            className={`hover:text-[#162f16] transition ${\n              pathname === \"/community\" ? \"text-[#162f16] font-semibold\" : \"\"\n            }`}\n          >\n            Community\n          </button>\n        </nav>\n\n        {/* Desktop Auth Section */}\n        <div className=\"hidden md:flex items-center gap-4\">\n          {user ? (\n            <div className=\"relative\">\n              <button\n                onClick={() => setDropdownOpen(!dropdownOpen)}\n                className=\"flex items-center gap-3 hover:opacity-80 transition\"\n              >\n                {getAvatarUrl() ? (\n                  <Image\n                    src={getAvatarUrl()}\n                    alt=\"Profile\"\n                    width={40}\n                    height={40}\n                    className=\"rounded-full object-cover\"\n                  />\n                ) : (\n                  <div className=\"w-10 h-10 rounded-full bg-[#162f16] text-white flex items-center justify-center font-semibold\">\n                    {getInitial()}\n                  </div>\n                )}\n                <span className=\"text-gray-900 font-medium\">\n                  {getUserName()}\n                </span>\n                <svg\n                  className={`w-4 h-4 text-gray-600 transition-transform ${\n                    dropdownOpen ? \"rotate-180\" : \"\"\n                  }`}\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M19 9l-7 7-7-7\"\n                  />\n                </svg>\n              </button>\n\n              {/* Dropdown Menu */}\n              {dropdownOpen && (\n                <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50\">\n                  <button\n                    onClick={() => {\n                      router.push(\"/profile\");\n                      setDropdownOpen(false);\n                    }}\n                    className=\"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\"\n                  >\n                    Profile\n                  </button>\n                  <button\n                    onClick={() => {\n                      router.push(\"/community\");\n                      setDropdownOpen(false);\n                    }}\n                    className=\"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\"\n                  >\n                    Community\n                  </button>\n                  <button\n                    onClick={() => setDropdownOpen(false)}\n                    className=\"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\"\n                  >\n                    Settings\n                  </button>\n                  <hr className=\"my-2 border-gray-200\" />\n                  <button\n                    onClick={handleSignOut}\n                    className=\"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-50\"\n                  >\n                    Sign Out\n                  </button>\n                </div>\n              )}\n            </div>\n          ) : (\n            <>\n              <button\n                onClick={() => onAuthClick(\"sign_in\")}\n                className=\"px-4 py-2 text-gray-700 hover:text-gray-900 transition\"\n              >\n                Sign In\n              </button>\n              <button\n                onClick={() => onAuthClick(\"sign_up\")}\n                className=\"px-4 py-2 bg-[#162f16] text-white rounded-md hover:bg-[#0f2310] transition\"\n              >\n                Sign Up\n              </button>\n            </>\n          )}\n        </div>\n\n        {/* Mobile Menu Button */}\n        <button\n          onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\n          aria-label=\"Open menu\"\n          className=\"md:hidden p-2\"\n        >\n          {mobileMenuOpen ? (\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          ) : (\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4 6h16M4 12h16M4 18h16\" />\n            </svg>\n          )}\n        </button>\n      </div>\n\n      {/* Mobile Menu Dropdown */}\n      <div\n        className={`md:hidden transition-all duration-300 overflow-hidden ${\n          mobileMenuOpen ? \"max-h-96 opacity-100\" : \"max-h-0 opacity-0\"\n        }`}\n      >\n        <nav className=\"flex flex-col gap-4 px-6 py-4 bg-white border-t border-gray-200 text-sm tracking-wide\">\n          <a href=\"#features\" className=\"py-2 hover:text-[#162f16]\" onClick={() => setMobileMenuOpen(false)}>\n            Features\n          </a>\n          <a href=\"#testimonials\" className=\"py-2 hover:text-[#162f16]\" onClick={() => setMobileMenuOpen(false)}>\n            Testimonials\n          </a>\n          <a href=\"/upcoming\" className=\"py-2 hover:text-[#162f16]\" onClick={() => setMobileMenuOpen(false)}>\n            Resources\n          </a>\n          <button\n            onClick={handleCommunityClick}\n            className=\"text-left py-2 hover:text-[#162f16]\"\n          >\n            Community\n          </button>\n          \n          {user ? (\n            <>\n              <button\n                onClick={() => {\n                  router.push(\"/profile\");\n                  setMobileMenuOpen(false);\n                }}\n                className=\"text-left py-2 hover:text-[#162f16]\"\n              >\n                Profile\n              </button>\n              <button\n                onClick={handleSignOut}\n                className=\"text-left py-2 text-red-600 hover:text-red-700\"\n              >\n                Sign Out\n              </button>\n            </>\n          ) : (\n            <>\n              <button\n                onClick={() => {\n                  onAuthClick(\"sign_in\");\n                  setMobileMenuOpen(false);\n                }}\n                className=\"text-left py-2 hover:text-[#162f16]\"\n              >\n                Sign In\n              </button>\n              <button\n                onClick={() => {\n                  onAuthClick(\"sign_up\");\n                  setMobileMenuOpen(false);\n                }}\n                className=\"mt-2 px-4 py-2 bg-[#162f16] text-white text-center rounded-md\"\n              >\n                Sign Up\n              </button>\n            </>\n          )}\n        </nav>\n      </div>\n    </header>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 533, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohith/Desktop/Progrize_landing-main/app/components/CreatePostModal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { supabase } from \"@/lib/supabase\";\n\ninterface CreatePostModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSuccess: () => void;\n  userId: string;\n}\n\nexport default function CreatePostModal({ isOpen, onClose, onSuccess, userId }: CreatePostModalProps) {\n  const [postType, setPostType] = useState<\"discussion\" | \"job_opportunity\">(\"discussion\");\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [tags, setTags] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  if (!isOpen) return null;\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!title.trim() || !content.trim()) {\n      setError(\"Please fill in all required fields\");\n      return;\n    }\n\n    setLoading(true);\n    setError(\"\");\n\n    try {\n      const tagsArray = tags\n        .split(\",\")\n        .map(tag => tag.trim())\n        .filter(tag => tag.length > 0);\n\n      const { error: insertError } = await supabase\n        .from(\"posts\")\n        .insert({\n          user_id: userId,\n          post_type: postType,\n          title: title.trim(),\n          content: content.trim(),\n          tags: tagsArray,\n          community_id: null // You can add community selection later\n        });\n\n      if (insertError) throw insertError;\n\n      // Reset form\n      setTitle(\"\");\n      setContent(\"\");\n      setTags(\"\");\n      setPostType(\"discussion\");\n      \n      onSuccess();\n      onClose();\n    } catch (err) {\n      console.error(\"Error creating post:\", err);\n      setError(\"Failed to create post. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm\">\n      <div className=\"relative w-full max-w-2xl mx-4 bg-white rounded-2xl shadow-2xl p-8 max-h-[90vh] overflow-y-auto\">\n        {/* Close Button */}\n        <button\n          onClick={onClose}\n          className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition\"\n          aria-label=\"Close modal\"\n        >\n          <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n          </svg>\n        </button>\n\n        {/* Header */}\n        <h2 className=\"text-2xl font-semibold text-gray-900 mb-6\">Create Post</h2>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit} className=\"space-y-5\">\n          {/* Post Type */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Post Type\n            </label>\n            <div className=\"flex gap-3\">\n              <button\n                type=\"button\"\n                onClick={() => setPostType(\"discussion\")}\n                className={`flex-1 px-4 py-3 rounded-lg border-2 text-sm font-medium transition ${\n                  postType === \"discussion\"\n                    ? \"border-[#162f16] bg-[#162f16] text-white\"\n                    : \"border-gray-300 text-gray-700 hover:border-gray-400\"\n                }`}\n              >\n                Discussion\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => setPostType(\"job_opportunity\")}\n                className={`flex-1 px-4 py-3 rounded-lg border-2 text-sm font-medium transition ${\n                  postType === \"job_opportunity\"\n                    ? \"border-[#162f16] bg-[#162f16] text-white\"\n                    : \"border-gray-300 text-gray-700 hover:border-gray-400\"\n                }`}\n              >\n                Job Opportunity\n              </button>\n            </div>\n          </div>\n\n          {/* Title */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Title *\n            </label>\n            <input\n              type=\"text\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              placeholder=\"Enter a descriptive title\"\n              className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#162f16]\"\n              required\n            />\n          </div>\n\n          {/* Content */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Content *\n            </label>\n            <textarea\n              value={content}\n              onChange={(e) => setContent(e.target.value)}\n              placeholder=\"Share your thoughts...\"\n              rows={6}\n              className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#162f16] resize-none\"\n              required\n            />\n          </div>\n\n          {/* Tags */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Tags (comma separated)\n            </label>\n            <input\n              type=\"text\"\n              value={tags}\n              onChange={(e) => setTags(e.target.value)}\n              placeholder=\"e.g. design, career, remote\"\n              className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#162f16]\"\n            />\n          </div>\n\n          {/* Error Message */}\n          {error && (\n            <p className=\"text-sm text-red-600\">{error}</p>\n          )}\n\n          {/* Actions */}\n          <div className=\"flex items-center gap-3 pt-4\">\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"px-6 py-3 bg-[#162f16] text-white rounded-lg font-medium hover:bg-[#0f2310] transition disabled:opacity-50\"\n            >\n              {loading ? \"Posting...\" : \"Post\"}\n            </button>\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"px-6 py-3 bg-white border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition\"\n            >\n              Cancel\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 827, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohith/Desktop/Progrize_landing-main/app/components/CommentsSection.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { supabase } from \"@/lib/supabase\";\nimport { useRouter } from \"next/navigation\";\nimport Image from \"next/image\";\n\ninterface Comment {\n  id: string;\n  content: string;\n  created_at: string;\n  user_id: string;\n  user_name: string;\n  user_avatar: string;\n}\n\ninterface CommentsSectionProps {\n  postId: string;\n  currentUserId: string;\n  onUpdate: () => void;\n}\n\nexport default function CommentsSection({ postId, currentUserId, onUpdate }: CommentsSectionProps) {\n  const router = useRouter();\n  const [comments, setComments] = useState<Comment[]>([]);\n  const [newComment, setNewComment] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const loadComments = useCallback(async () => {\n    try {\n      const { data, error } = await supabase\n        .from(\"comments\")\n        .select(\"*\")\n        .eq(\"post_id\", postId)\n        .order(\"created_at\", { ascending: true });\n\n      if (error) throw error;\n\n      // Get user profile data for each comment from profiles table\n      const commentsWithUsers = await Promise.all(\n        (data || []).map(async (comment) => {\n          const { data: profileData } = await supabase\n            .from(\"profiles\")\n            .select(\"full_name, avatar_url\")\n            .eq(\"id\", comment.user_id)\n            .single();\n\n          return {\n            ...comment,\n            user_name: profileData?.full_name || \"User\",\n            user_avatar: profileData?.avatar_url || \"\"\n          };\n        })\n      );\n\n      setComments(commentsWithUsers);\n    } catch (error) {\n      console.error(\"Error loading comments:\", error);\n    }\n  }, [postId]);\n\n  useEffect(() => {\n    loadComments();\n  }, [loadComments]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!newComment.trim()) return;\n\n    setLoading(true);\n\n    try {\n      const { error } = await supabase\n        .from(\"comments\")\n        .insert({\n          post_id: postId,\n          user_id: currentUserId,\n          content: newComment.trim()\n        });\n\n      if (error) throw error;\n      \n      // Increment comments count\n      await supabase.rpc(\"increment_comments\", { post_id: postId });\n\n      setNewComment(\"\");\n      await loadComments();\n      onUpdate();\n    } catch (error) {\n      console.error(\"Error posting comment:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleUserClick = (userId: string, e: React.MouseEvent) => {\n    e.stopPropagation();\n    router.push(`/user/${userId}`);\n  };\n\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diff = now.getTime() - date.getTime();\n    const minutes = Math.floor(diff / (1000 * 60));\n    const hours = Math.floor(minutes / 60);\n    const days = Math.floor(hours / 24);\n\n    if (minutes < 1) return \"Just now\";\n    if (minutes < 60) return `${minutes}m ago`;\n    if (hours < 24) return `${hours}h ago`;\n    return `${days}d ago`;\n  };\n\n  return (\n    <div className=\"mt-6 pt-6 border-t border-gray-200\">\n      {/* Comments List */}\n      <div className=\"space-y-4 mb-4\">\n        {comments.map((comment) => (\n          <div key={comment.id} className=\"flex gap-3\">\n            {comment.user_avatar ? (\n              <Image\n                src={comment.user_avatar}\n                alt={comment.user_name}\n                width={32}\n                height={32}\n                className=\"rounded-full object-cover\"\n              />\n            ) : (\n              <div className=\"w-8 h-8 rounded-full bg-[#162f16] text-white flex items-center justify-center text-sm font-semibold\">\n                {comment.user_name.charAt(0).toUpperCase()}\n              </div>\n            )}\n            <div className=\"flex-1\">\n              <div className=\"bg-gray-50 rounded-lg p-3\">\n                <p className=\"font-medium text-sm text-gray-900\">{comment.user_name}</p>\n                <p className=\"text-sm text-gray-700 mt-1\">{comment.content}</p>\n              </div>\n              <p className=\"text-xs text-gray-500 mt-1 ml-3\">{formatDate(comment.created_at)}</p>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Add Comment Form */}\n      <form onSubmit={handleSubmit} className=\"flex gap-3\">\n        <input\n          type=\"text\"\n          value={newComment}\n          onChange={(e) => setNewComment(e.target.value)}\n          placeholder=\"Write a comment...\"\n          className=\"flex-1 px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#162f16] text-sm\"\n        />\n        <button\n          type=\"submit\"\n          disabled={loading || !newComment.trim()}\n          className=\"px-4 py-2 bg-[#162f16] text-white rounded-lg text-sm font-medium hover:bg-[#0f2310] transition disabled:opacity-50\"\n        >\n          {loading ? \"Posting...\" : \"Post\"}\n        </button>\n      </form>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAsBe,SAAS,gBAAgB,EAAE,MAAM,EAAE,aAAa,EAAE,QAAQ,EAAwB;;IAC/F,MAAM,SAAS,IAAA,yLAAS;IACxB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,gNAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,gNAAQ,EAAC;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gNAAQ,EAAC;IAEvC,MAAM,eAAe,IAAA,mNAAW;qDAAC;YAC/B,IAAI;gBACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,qKAAQ,CACnC,IAAI,CAAC,YACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,QACd,KAAK,CAAC,cAAc;oBAAE,WAAW;gBAAK;gBAEzC,IAAI,OAAO,MAAM;gBAEjB,6DAA6D;gBAC7D,MAAM,oBAAoB,MAAM,QAAQ,GAAG,CACzC,CAAC,QAAQ,EAAE,EAAE,GAAG;iEAAC,OAAO;wBACtB,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,MAAM,qKAAQ,CACzC,IAAI,CAAC,YACL,MAAM,CAAC,yBACP,EAAE,CAAC,MAAM,QAAQ,OAAO,EACxB,MAAM;wBAET,OAAO;4BACL,GAAG,OAAO;4BACV,WAAW,aAAa,aAAa;4BACrC,aAAa,aAAa,cAAc;wBAC1C;oBACF;;gBAGF,YAAY;YACd,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,2BAA2B;YAC3C;QACF;oDAAG;QAAC;KAAO;IAEX,IAAA,iNAAS;qCAAC;YACR;QACF;oCAAG;QAAC;KAAa;IAEjB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,IAAI,CAAC,WAAW,IAAI,IAAI;QAExB,WAAW;QAEX,IAAI;YACF,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,qKAAQ,CAC7B,IAAI,CAAC,YACL,MAAM,CAAC;gBACN,SAAS;gBACT,SAAS;gBACT,SAAS,WAAW,IAAI;YAC1B;YAEF,IAAI,OAAO,MAAM;YAEjB,2BAA2B;YAC3B,MAAM,qKAAQ,CAAC,GAAG,CAAC,sBAAsB;gBAAE,SAAS;YAAO;YAE3D,cAAc;YACd,MAAM;YACN;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;QAC1C,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,kBAAkB,CAAC,QAAgB;QACvC,EAAE,eAAe;QACjB,OAAO,IAAI,CAAC,CAAC,MAAM,EAAE,QAAQ;IAC/B;IAEA,MAAM,aAAa,CAAC;QAClB,MAAM,OAAO,IAAI,KAAK;QACtB,MAAM,MAAM,IAAI;QAChB,MAAM,OAAO,IAAI,OAAO,KAAK,KAAK,OAAO;QACzC,MAAM,UAAU,KAAK,KAAK,CAAC,OAAO,CAAC,OAAO,EAAE;QAC5C,MAAM,QAAQ,KAAK,KAAK,CAAC,UAAU;QACnC,MAAM,OAAO,KAAK,KAAK,CAAC,QAAQ;QAEhC,IAAI,UAAU,GAAG,OAAO;QACxB,IAAI,UAAU,IAAI,OAAO,GAAG,QAAQ,KAAK,CAAC;QAC1C,IAAI,QAAQ,IAAI,OAAO,GAAG,MAAM,KAAK,CAAC;QACtC,OAAO,GAAG,KAAK,KAAK,CAAC;IACvB;IAEA,qBACE,oOAAC;QAAI,WAAU;;0BAEb,oOAAC;gBAAI,WAAU;0BACZ,SAAS,GAAG,CAAC,CAAC,wBACb,oOAAC;wBAAqB,WAAU;;4BAC7B,QAAQ,WAAW,iBAClB,oOAAC,kLAAK;gCACJ,KAAK,QAAQ,WAAW;gCACxB,KAAK,QAAQ,SAAS;gCACtB,OAAO;gCACP,QAAQ;gCACR,WAAU;;;;;qDAGZ,oOAAC;gCAAI,WAAU;0CACZ,QAAQ,SAAS,CAAC,MAAM,CAAC,GAAG,WAAW;;;;;;0CAG5C,oOAAC;gCAAI,WAAU;;kDACb,oOAAC;wCAAI,WAAU;;0DACb,oOAAC;gDAAE,WAAU;0DAAqC,QAAQ,SAAS;;;;;;0DACnE,oOAAC;gDAAE,WAAU;0DAA8B,QAAQ,OAAO;;;;;;;;;;;;kDAE5D,oOAAC;wCAAE,WAAU;kDAAmC,WAAW,QAAQ,UAAU;;;;;;;;;;;;;uBAnBvE,QAAQ,EAAE;;;;;;;;;;0BA0BxB,oOAAC;gBAAK,UAAU;gBAAc,WAAU;;kCACtC,oOAAC;wBACC,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;wBAC7C,aAAY;wBACZ,WAAU;;;;;;kCAEZ,oOAAC;wBACC,MAAK;wBACL,UAAU,WAAW,CAAC,WAAW,IAAI;wBACrC,WAAU;kCAET,UAAU,eAAe;;;;;;;;;;;;;;;;;;AAKpC;GA9IwB;;QACP,yLAAS;;;KADF"}},
    {"offset": {"line": 1054, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohith/Desktop/Progrize_landing-main/app/components/PostCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { supabase } from \"@/lib/supabase\";\nimport { useRouter } from \"next/navigation\";\nimport Image from \"next/image\";\nimport CommentsSection from \"./CommentsSection\";\n\ninterface PostEvent {\n  id: string;\n  event_date: string;\n  location: string;\n  meeting_link: string;\n  going_count: number;\n  interested_count: number;\n  user_rsvp: string | null;\n}\n\ninterface PostCardProps {\n  post: {\n    id: string;\n    post_type: string;\n    title: string;\n    content: string;\n    tags: string[];\n    likes_count: number;\n    comments_count: number;\n    created_at: string;\n    user_id: string;\n    user_name: string;\n    user_avatar: string;\n    user_occupation: string;\n    is_liked: boolean;\n    event?: PostEvent;\n  };\n  currentUserId: string;\n  onUpdate: () => void;\n}\n\nexport default function PostCard({ post, currentUserId, onUpdate }: PostCardProps) {\n  const router = useRouter();\n  const [showComments, setShowComments] = useState(false);\n  const [isLiking, setIsLiking] = useState(false);\n  const [isRSVPing, setIsRSVPing] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n  const [localLikesCount, setLocalLikesCount] = useState(post.likes_count);\n  const [localIsLiked, setLocalIsLiked] = useState(post.is_liked);\n  const [localCommentsCount, setLocalCommentsCount] = useState(post.comments_count);\n\n  const isOwner = post.user_id === currentUserId;\n\n  const handleUserClick = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    router.push(`/user/${post.user_id}`);\n  };\n\n  const handleLike = async () => {\n    if (isLiking) return;\n    setIsLiking(true);\n\n    // Optimistic update\n    const newIsLiked = !localIsLiked;\n    const newLikesCount = newIsLiked ? localLikesCount + 1 : localLikesCount - 1;\n    setLocalIsLiked(newIsLiked);\n    setLocalLikesCount(newLikesCount);\n\n    try {\n      if (localIsLiked) {\n        // Unlike\n        await supabase\n          .from(\"post_likes\")\n          .delete()\n          .eq(\"post_id\", post.id)\n          .eq(\"user_id\", currentUserId);\n\n        await supabase.rpc(\"decrement_likes\", { post_id: post.id });\n      } else {\n        // Like\n        await supabase\n          .from(\"post_likes\")\n          .insert({ post_id: post.id, user_id: currentUserId });\n\n        await supabase.rpc(\"increment_likes\", { post_id: post.id });\n      }\n\n      onUpdate();\n    } catch (error) {\n      console.error(\"Error toggling like:\", error);\n      // Revert on error\n      setLocalIsLiked(!newIsLiked);\n      setLocalLikesCount(localLikesCount);\n    } finally {\n      setIsLiking(false);\n    }\n  };\n\n  const handleRSVP = async (status: \"going\" | \"interested\") => {\n    if (isRSVPing || !post.event) return;\n    setIsRSVPing(true);\n\n    try {\n      const eventId = post.event.id;\n\n      if (post.event.user_rsvp === status) {\n        // Remove RSVP\n        await supabase\n          .from(\"event_rsvps\")\n          .delete()\n          .eq(\"event_id\", eventId)\n          .eq(\"user_id\", currentUserId);\n\n        // Decrement count\n        const field = status === \"going\" ? \"going_count\" : \"interested_count\";\n        await supabase\n          .from(\"events\")\n          .update({ [field]: Math.max(0, post.event[field] - 1) })\n          .eq(\"id\", eventId);\n      } else {\n        // Add or update RSVP\n        await supabase\n          .from(\"event_rsvps\")\n          .upsert({\n            event_id: eventId,\n            user_id: currentUserId,\n            status\n          });\n\n        // Update counts\n        if (post.event.user_rsvp) {\n          // Switching from one status to another\n          const oldField = post.event.user_rsvp === \"going\" ? \"going_count\" : \"interested_count\";\n          const newField = status === \"going\" ? \"going_count\" : \"interested_count\";\n          \n          await supabase\n            .from(\"events\")\n            .update({\n              [oldField]: Math.max(0, post.event[oldField] - 1),\n              [newField]: post.event[newField] + 1\n            })\n            .eq(\"id\", eventId);\n        } else {\n          // New RSVP\n          const field = status === \"going\" ? \"going_count\" : \"interested_count\";\n          await supabase\n            .from(\"events\")\n            .update({ [field]: post.event[field] + 1 })\n            .eq(\"id\", eventId);\n        }\n      }\n\n      onUpdate();\n    } catch (error) {\n      console.error(\"Error updating RSVP:\", error);\n    } finally {\n      setIsRSVPing(false);\n    }\n  };\n\n  const handleDelete = async () => {\n    if (isDeleting) return;\n    setIsDeleting(true);\n\n    try {\n      // Delete the post (cascade will handle related data)\n      const { error } = await supabase\n        .from(\"posts\")\n        .delete()\n        .eq(\"id\", post.id)\n        .eq(\"user_id\", currentUserId); // Extra safety check\n\n      if (error) throw error;\n\n      onUpdate();\n      setShowDeleteConfirm(false);\n    } catch (error) {\n      console.error(\"Error deleting post:\", error);\n      alert(\"Failed to delete post. Please try again.\");\n    } finally {\n      setIsDeleting(false);\n    }\n  };\n\n  const handleCommentUpdate = () => {\n    setLocalCommentsCount(prev => prev + 1);\n    onUpdate();\n  };\n\n  const copyLink = () => {\n    const url = `${window.location.origin}/community?post=${post.id}`;\n    navigator.clipboard.writeText(url);\n    alert(\"Link copied to clipboard!\");\n  };\n\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diff = now.getTime() - date.getTime();\n    const hours = Math.floor(diff / (1000 * 60 * 60));\n    const days = Math.floor(hours / 24);\n\n    if (hours < 1) return \"Just now\";\n    if (hours < 24) return `${hours}h ago`;\n    if (days < 7) return `${days}d ago`;\n    return date.toLocaleDateString();\n  };\n\n  const getPostTypeColor = () => {\n    switch (post.post_type) {\n      case \"discussion\": return \"bg-blue-100 text-blue-800\";\n      case \"job_opportunity\": return \"bg-green-100 text-green-800\";\n      case \"event\": return \"bg-purple-100 text-purple-800\";\n      default: return \"bg-gray-100 text-gray-800\";\n    }\n  };\n\n  return (\n    <div className=\"bg-white rounded-xl p-6 border border-gray-200 hover:shadow-md transition\">\n      {/* Header */}\n      <div className=\"flex items-start justify-between mb-4\">\n        <div \n          className=\"flex items-center gap-3 cursor-pointer hover:opacity-80 transition\"\n          onClick={handleUserClick}\n        >\n          {post.user_avatar ? (\n            <Image\n              src={post.user_avatar}\n              alt={post.user_name}\n              width={40}\n              height={40}\n              className=\"rounded-full object-cover max-h-10\"\n            />\n          ) : (\n            <div className=\"w-10 h-10 rounded-full bg-[#162f16] text-white flex items-center justify-center font-semibold\">\n              {post.user_name.charAt(0).toUpperCase()}\n            </div>\n          )}\n          <div>\n            <p className=\"font-medium text-gray-900 hover:underline\">{post.user_name}</p>\n            {post.user_occupation && (\n              <p className=\"text-sm text-gray-600\">{post.user_occupation}</p>\n            )}\n            <p className=\"text-xs text-gray-500\">{formatDate(post.created_at)}</p>\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          <span className={`px-3 py-1 rounded-full text-xs font-medium ${getPostTypeColor()}`}>\n            {post.post_type.replace(\"_\", \" \")}\n          </span>\n          \n          {isOwner && (\n            <div className=\"relative\">\n              <button\n                onClick={() => setShowDeleteConfirm(!showDeleteConfirm)}\n                className=\"p-2 text-gray-400 hover:text-red-600 transition\"\n                aria-label=\"Delete post\"\n              >\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                </svg>\n              </button>\n\n              {showDeleteConfirm && (\n                <div className=\"absolute right-0 top-10 bg-white rounded-lg shadow-lg border border-gray-200 p-4 z-10 w-64\">\n                  <p className=\"text-sm text-gray-700 mb-3\">Are you sure you want to delete this post?</p>\n                  <div className=\"flex gap-2\">\n                    <button\n                      onClick={handleDelete}\n                      disabled={isDeleting}\n                      className=\"flex-1 px-3 py-2 bg-red-600 text-white rounded-md text-sm font-medium hover:bg-red-700 transition disabled:opacity-50\"\n                    >\n                      {isDeleting ? \"Deleting...\" : \"Delete\"}\n                    </button>\n                    <button\n                      onClick={() => setShowDeleteConfirm(false)}\n                      className=\"flex-1 px-3 py-2 bg-gray-100 text-gray-700 rounded-md text-sm font-medium hover:bg-gray-200 transition\"\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Content */}\n      <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">{post.title}</h3>\n      <p className=\"text-gray-700 mb-4 whitespace-pre-wrap\">{post.content}</p>\n\n      {/* Event Details */}\n      {post.event && (\n        <div className=\"bg-gray-50 rounded-lg p-4 mb-4 border border-gray-200\">\n          <div className=\"flex items-center gap-2 text-sm text-gray-700 mb-2\">\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n            </svg>\n            <span className=\"font-medium\">\n              {new Date(post.event.event_date).toLocaleString()}\n            </span>\n          </div>\n          \n          {post.event.location && (\n            <div className=\"flex items-center gap-2 text-sm text-gray-700 mb-2\">\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\n              </svg>\n              <span>{post.event.location}</span>\n            </div>\n          )}\n\n          {post.event.meeting_link && (\n            <a\n              href={post.event.meeting_link}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"flex items-center gap-2 text-sm text-[#162f16] hover:underline mb-3\"\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\n              </svg>\n              <span>Join Meeting</span>\n            </a>\n          )}\n\n          <div className=\"flex items-center gap-3\">\n            <button\n              onClick={() => handleRSVP(\"going\")}\n              disabled={isRSVPing}\n              className={`px-4 py-2 rounded-lg text-sm font-medium transition ${\n                post.event.user_rsvp === \"going\"\n                  ? \"bg-[#162f16] text-white\"\n                  : \"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50\"\n              }`}\n            >\n              Going ({post.event.going_count})\n            </button>\n            <button\n              onClick={() => handleRSVP(\"interested\")}\n              disabled={isRSVPing}\n              className={`px-4 py-2 rounded-lg text-sm font-medium transition ${\n                post.event.user_rsvp === \"interested\"\n                  ? \"bg-[#162f16] text-white\"\n                  : \"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50\"\n              }`}\n            >\n              Interested ({post.event.interested_count})\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Tags */}\n      {post.tags && post.tags.length > 0 && (\n        <div className=\"flex flex-wrap gap-2 mb-4\">\n          {post.tags.map((tag: string, index: number) => (\n            <span\n              key={index}\n              className=\"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium\"\n            >\n              #{tag}\n            </span>\n          ))}\n        </div>\n      )}\n\n      {/* Actions */}\n      <div className=\"flex items-center gap-6 pt-4 border-t border-gray-200\">\n        <button\n          onClick={handleLike}\n          disabled={isLiking}\n          className=\"flex items-center gap-2 text-gray-600 hover:text-[#162f16] transition\"\n        >\n          <svg\n            className={`w-5 h-5 ${localIsLiked ? \"fill-[#162f16] text-[#162f16]\" : \"fill-none\"}`}\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\n            />\n          </svg>\n          <span className=\"text-sm font-medium\">{localLikesCount}</span>\n        </button>\n\n        <button\n          onClick={() => setShowComments(!showComments)}\n          className=\"flex items-center gap-2 text-gray-600 hover:text-[#162f16] transition\"\n        >\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n            />\n          </svg>\n          <span className=\"text-sm font-medium\">{localCommentsCount}</span>\n        </button>\n\n        <button\n          onClick={copyLink}\n          className=\"flex items-center gap-2 text-gray-600 hover:text-[#162f16] transition\"\n        >\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z\"\n            />\n          </svg>\n          <span className=\"text-sm font-medium\">Share</span>\n        </button>\n      </div>\n\n      {/* Comments Section */}\n      {showComments && (\n        <CommentsSection\n          postId={post.id}\n          currentUserId={currentUserId}\n          onUpdate={handleCommentUpdate}\n        />\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1745, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohith/Desktop/Progrize_landing-main/app/components/CreateEventModal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { supabase } from \"@/lib/supabase\";\nimport Image from \"next/image\";\n\ninterface CreateEventModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSuccess: () => void;\n  userId: string;\n}\n\nexport default function CreateEventModal({ isOpen, onClose, onSuccess, userId }: CreateEventModalProps) {\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [eventDate, setEventDate] = useState(\"\");\n  const [eventTime, setEventTime] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n  const [meetingLink, setMeetingLink] = useState(\"\");\n  const [tags, setTags] = useState(\"\");\n  const [eventImage, setEventImage] = useState<File | null>(null);\n  const [imagePreview, setImagePreview] = useState<string>(\"\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  if (!isOpen) return null;\n\n  const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      setEventImage(file);\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setImagePreview(reader.result as string);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const uploadImage = async (file: File): Promise<string | null> => {\n    try {\n      const fileExt = file.name.split('.').pop();\n      const fileName = `${userId}-${Date.now()}.${fileExt}`;\n      const filePath = `event-images/${fileName}`;\n\n      // Use the correct bucket name with hyphen: profile-pictures\n      const { error: uploadError } = await supabase.storage\n        .from('profile-pictures')\n        .upload(filePath, file);\n\n      if (uploadError) {\n        console.error(\"Error uploading image:\", uploadError);\n        throw uploadError;\n      }\n\n      const { data: { publicUrl } } = supabase.storage\n        .from('profile-pictures')\n        .getPublicUrl(filePath);\n\n      return publicUrl;\n    } catch (error) {\n      console.error(\"Error uploading image:\", error);\n      throw error;\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!title.trim() || !content.trim() || !eventDate || !eventTime) {\n      setError(\"Please fill in all required fields\");\n      return;\n    }\n\n    setLoading(true);\n    setError(\"\");\n\n    try {\n      const tagsArray = tags\n        .split(\",\")\n        .map(tag => tag.trim())\n        .filter(tag => tag.length > 0);\n\n      // Combine date and time\n      const eventDateTime = new Date(`${eventDate}T${eventTime}`).toISOString();\n\n      // Upload image if provided\n      let imageUrl = null;\n      if (eventImage) {\n        try {\n          imageUrl = await uploadImage(eventImage);\n        } catch (uploadError) {\n          setError(\"Failed to upload image. Please try again.\");\n          setLoading(false);\n          return;\n        }\n      }\n\n      // Create post\n      const { data: postData, error: postError } = await supabase\n        .from(\"posts\")\n        .insert({\n          user_id: userId,\n          post_type: \"event\",\n          title: title.trim(),\n          content: content.trim(),\n          tags: tagsArray,\n          event_image: imageUrl,\n          community_id: null\n        })\n        .select()\n        .single();\n\n      if (postError) throw postError;\n\n      // Create event\n      const { error: eventError } = await supabase\n        .from(\"events\")\n        .insert({\n          post_id: postData.id,\n          event_date: eventDateTime,\n          location: location.trim() || null,\n          meeting_link: meetingLink.trim() || null\n        });\n\n      if (eventError) throw eventError;\n\n      // Reset form\n      setTitle(\"\");\n      setContent(\"\");\n      setEventDate(\"\");\n      setEventTime(\"\");\n      setLocation(\"\");\n      setMeetingLink(\"\");\n      setTags(\"\");\n      setEventImage(null);\n      setImagePreview(\"\");\n      \n      onSuccess();\n      onClose();\n    } catch (err) {\n      console.error(\"Error creating event:\", err);\n      setError(\"Failed to create event. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm\">\n      <div className=\"relative w-full max-w-2xl mx-4 bg-white rounded-2xl shadow-2xl p-8 max-h-[90vh] overflow-y-auto\">\n        {/* Close Button */}\n        <button\n          onClick={onClose}\n          className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition\"\n          aria-label=\"Close modal\"\n        >\n          <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n          </svg>\n        </button>\n\n        {/* Header */}\n        <h2 className=\"text-2xl font-semibold text-gray-900 mb-6\">Create Event</h2>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit} className=\"space-y-5\">\n          {/* Event Image Upload */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Event Image (optional)\n            </label>\n            <div className=\"flex items-center gap-4\">\n              {imagePreview ? (\n                <div className=\"relative w-32 h-32 rounded-lg overflow-hidden\">\n                  <Image\n                    src={imagePreview}\n                    alt=\"Event preview\"\n                    fill\n                    className=\"object-cover\"\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      setEventImage(null);\n                      setImagePreview(\"\");\n                    }}\n                    className=\"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600\"\n                  >\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                    </svg>\n                  </button>\n                </div>\n              ) : (\n                <label className=\"w-32 h-32 flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-[#162f16] transition\">\n                  <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                  </svg>\n                  <span className=\"text-xs text-gray-500 mt-2\">Upload Image</span>\n                  <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    onChange={handleImageChange}\n                    className=\"hidden\"\n                  />\n                </label>\n              )}\n            </div>\n          </div>\n\n          {/* Title */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Event Title *\n            </label>\n            <input\n              type=\"text\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              placeholder=\"Enter event title\"\n              className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#162f16]\"\n              required\n            />\n          </div>\n\n          {/* Description */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Description *\n            </label>\n            <textarea\n              value={content}\n              onChange={(e) => setContent(e.target.value)}\n              placeholder=\"Describe your event...\"\n              rows={4}\n              className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#162f16] resize-none\"\n              required\n            />\n          </div>\n\n          {/* Date and Time */}\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Date *\n              </label>\n              <input\n                type=\"date\"\n                value={eventDate}\n                onChange={(e) => setEventDate(e.target.value)}\n                className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#162f16]\"\n                required\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Time *\n              </label>\n              <input\n                type=\"time\"\n                value={eventTime}\n                onChange={(e) => setEventTime(e.target.value)}\n                className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#162f16]\"\n                required\n              />\n            </div>\n          </div>\n\n          {/* Location */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Location (optional)\n            </label>\n            <input\n              type=\"text\"\n              value={location}\n              onChange={(e) => setLocation(e.target.value)}\n              placeholder=\"e.g. London, UK or Virtual\"\n              className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#162f16]\"\n            />\n          </div>\n\n          {/* Meeting Link */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Meeting Link (optional)\n            </label>\n            <input\n              type=\"url\"\n              value={meetingLink}\n              onChange={(e) => setMeetingLink(e.target.value)}\n              placeholder=\"https://zoom.us/... or https://meet.google.com/...\"\n              className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#162f16]\"\n            />\n          </div>\n\n          {/* Tags */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Tags (comma separated)\n            </label>\n            <input\n              type=\"text\"\n              value={tags}\n              onChange={(e) => setTags(e.target.value)}\n              placeholder=\"e.g. networking, workshop, career\"\n              className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#162f16]\"\n            />\n          </div>\n\n          {/* Error Message */}\n          {error && (\n            <p className=\"text-sm text-red-600\">{error}</p>\n          )}\n\n          {/* Actions */}\n          <div className=\"flex items-center gap-3 pt-4\">\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"px-6 py-3 bg-[#162f16] text-white rounded-lg font-medium hover:bg-[#0f2310] transition disabled:opacity-50\"\n            >\n              {loading ? \"Creating...\" : \"Create Event\"}\n            </button>\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"px-6 py-3 bg-white border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition\"\n            >\n              Cancel\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2295, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohith/Desktop/Progrize_landing-main/app/components/EventCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { supabase } from \"@/lib/supabase\";\nimport Image from \"next/image\";\n\ninterface EventCardProps {\n  event: {\n    id: string;\n    post_id: string;\n    title: string;\n    content: string;\n    event_date: string;\n    location: string;\n    meeting_link: string;\n    going_count: number;\n    interested_count: number;\n    likes_count: number;\n    comments_count: number;\n    user_rsvp: string | null;\n    event_image: string | null;\n    user_id: string;\n    user_name: string;\n    user_avatar: string;\n    attendees: Array<{ avatar_url: string; full_name: string }>;\n  };\n  currentUserId: string;\n  onUpdate: () => void;\n  onOpenDetail: (eventId: string) => void;\n}\n\nexport default function EventCard({ event, currentUserId, onUpdate, onOpenDetail }: EventCardProps) {\n  const [isRSVPing, setIsRSVPing] = useState(false);\n\n  const handleRSVP = async (status: \"going\" | \"interested\") => {\n    if (isRSVPing) return;\n    setIsRSVPing(true);\n\n    try {\n      if (event.user_rsvp === status) {\n        // Remove RSVP\n        await supabase\n          .from(\"event_rsvps\")\n          .delete()\n          .eq(\"event_id\", event.id)\n          .eq(\"user_id\", currentUserId);\n\n        // Decrement count\n        const field = status === \"going\" ? \"going_count\" : \"interested_count\";\n        await supabase\n          .from(\"events\")\n          .update({ [field]: Math.max(0, event[field] - 1) })\n          .eq(\"id\", event.id);\n      } else {\n        // Add or update RSVP\n        await supabase\n          .from(\"event_rsvps\")\n          .upsert({\n            event_id: event.id,\n            user_id: currentUserId,\n            status\n          });\n\n        // Update counts\n        if (event.user_rsvp) {\n          // Switching from one status to another\n          const oldField = event.user_rsvp === \"going\" ? \"going_count\" : \"interested_count\";\n          const newField = status === \"going\" ? \"going_count\" : \"interested_count\";\n          \n          await supabase\n            .from(\"events\")\n            .update({\n              [oldField]: Math.max(0, event[oldField] - 1),\n              [newField]: event[newField] + 1\n            })\n            .eq(\"id\", event.id);\n        } else {\n          // New RSVP\n          const field = status === \"going\" ? \"going_count\" : \"interested_count\";\n          await supabase\n            .from(\"events\")\n            .update({ [field]: event[field] + 1 })\n            .eq(\"id\", event.id);\n        }\n      }\n\n      onUpdate();\n    } catch (error) {\n      console.error(\"Error updating RSVP:\", error);\n    } finally {\n      setIsRSVPing(false);\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', { \n      month: 'long', \n      day: 'numeric', \n      year: 'numeric',\n      hour: 'numeric',\n      minute: '2-digit'\n    });\n  };\n\n  const totalAttendees = event.going_count + event.interested_count;\n\n  return (\n    <div \n      className=\"bg-white rounded-xl overflow-hidden border border-gray-200 hover:shadow-lg transition cursor-pointer\"\n      onClick={() => onOpenDetail(event.id)}\n    >\n      {/* Event Image */}\n      <div className=\"relative h-64 bg-gray-200\">\n        {event.event_image ? (\n          <Image\n            src={event.event_image}\n            alt={event.title}\n            fill\n            className=\"object-cover\"\n          />\n        ) : (\n          <div className=\"w-full h-full flex items-center justify-center bg-gradient-to-br from-[#162f16] to-[#2a4a2a]\">\n            <svg className=\"w-20 h-20 text-white/30\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n            </svg>\n          </div>\n        )}\n      </div>\n\n      {/* Event Content */}\n      <div className=\"p-6\">\n        {/* Title and Location */}\n        <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">{event.title}</h3>\n        <p className=\"text-sm text-gray-600 mb-4\">{event.location || \"Virtual Event\"}</p>\n\n        {/* Attendees */}\n        <div className=\"flex items-center gap-2 mb-4\">\n          <div className=\"flex -space-x-2\">\n            {event.attendees.slice(0, 3).map((attendee, index) => (\n              attendee.avatar_url ? (\n                <Image\n                  key={index}\n                  src={attendee.avatar_url}\n                  alt={attendee.full_name}\n                  width={32}\n                  height={32}\n                  className=\"rounded-full border-2 border-white object-cover\"\n                />\n              ) : (\n                <div \n                  key={index}\n                  className=\"w-8 h-8 rounded-full border-2 border-white bg-[#162f16] text-white flex items-center justify-center text-xs font-semibold\"\n                >\n                  {attendee.full_name.charAt(0).toUpperCase()}\n                </div>\n              )\n            ))}\n          </div>\n          <span className=\"text-sm text-gray-600\">\n            {totalAttendees > 0 ? `${totalAttendees} + Going` : \"Be the first to join\"}\n          </span>\n        </div>\n\n        {/* Description */}\n        <p className=\"text-sm text-gray-700 mb-4 line-clamp-3\">{event.content}</p>\n\n        {/* Action Buttons */}\n        <div className=\"flex items-center gap-3\" onClick={(e) => e.stopPropagation()}>\n          <button\n            onClick={() => handleRSVP(\"going\")}\n            disabled={isRSVPing}\n            className={`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition ${\n              event.user_rsvp === \"going\"\n                ? \"bg-[#162f16] text-white\"\n                : \"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50\"\n            }`}\n          >\n            {event.user_rsvp === \"going\" ? \"Going\" : \"I am going\"}\n          </button>\n          <button\n            className=\"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-50 transition\"\n          >\n            Draft\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2534, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohith/Desktop/Progrize_landing-main/app/components/EventDetailModal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { supabase } from \"@/lib/supabase\";\nimport Image from \"next/image\";\n\ninterface EventComment {\n  id: string;\n  content: string;\n  created_at: string;\n  user_id: string;\n  user_name: string;\n  user_avatar: string;\n}\n\ninterface Attendee {\n  avatar_url: string;\n  full_name: string;\n}\n\ninterface EventDetail {\n  id: string;\n  post_id: string;\n  event_date: string;\n  location: string;\n  meeting_link: string;\n  going_count: number;\n  interested_count: number;\n  likes_count: number;\n  comments_count: number;\n  title: string;\n  content: string;\n  event_image: string | null;\n  user_id: string;\n  host_name: string;\n  host_avatar: string;\n  host_occupation: string;\n  user_rsvp: string | null;\n  attendees: Attendee[];\n}\n\ninterface EventDetailModalProps {\n  eventId: string | null;\n  currentUserId: string;\n  onClose: () => void;\n  onUpdate: () => void;\n}\n\nexport default function EventDetailModal({ eventId, currentUserId, onClose, onUpdate }: EventDetailModalProps) {\n  const [event, setEvent] = useState<EventDetail | null>(null);\n  const [comments, setComments] = useState<EventComment[]>([]);\n  const [newComment, setNewComment] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [isLiked, setIsLiked] = useState(false);\n  const [isRSVPing, setIsRSVPing] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n\n  const loadEventDetails = useCallback(async () => {\n    if (!eventId) return;\n\n    try {\n      // Load event details\n      const { data: eventData, error: eventError } = await supabase\n        .from(\"events\")\n        .select(`\n          *,\n          posts!inner(*)\n        `)\n        .eq(\"id\", eventId)\n        .single();\n\n      if (eventError) throw eventError;\n\n      const post = eventData.posts as Record<string, unknown>;\n\n      // Get host profile\n      const { data: hostProfile } = await supabase\n        .from(\"profiles\")\n        .select(\"full_name, avatar_url, occupation\")\n        .eq(\"id\", post.user_id as string)\n        .single();\n\n      // Get user's RSVP status\n      const { data: rsvpData } = await supabase\n        .from(\"event_rsvps\")\n        .select(\"status\")\n        .eq(\"event_id\", eventId)\n        .eq(\"user_id\", currentUserId)\n        .single();\n\n      // Get user's like status\n      const { data: likeData } = await supabase\n        .from(\"event_likes\")\n        .select(\"id\")\n        .eq(\"event_id\", eventId)\n        .eq(\"user_id\", currentUserId)\n        .single();\n\n      // Get attendees for avatars\n      const { data: attendeesData } = await supabase\n        .from(\"event_rsvps\")\n        .select(\"user_id\")\n        .eq(\"event_id\", eventId)\n        .eq(\"status\", \"going\")\n        .limit(5);\n\n      const attendees = await Promise.all(\n        (attendeesData || []).map(async (rsvp) => {\n          const { data: profile } = await supabase\n            .from(\"profiles\")\n            .select(\"full_name, avatar_url\")\n            .eq(\"id\", rsvp.user_id)\n            .single();\n          return profile;\n        })\n      );\n\n      setEvent({\n        ...eventData,\n        post_id: post.id as string,\n        title: post.title as string,\n        content: post.content as string,\n        event_image: (post.event_image as string) || null,\n        user_id: post.user_id as string,\n        host_name: hostProfile?.full_name || \"User\",\n        host_avatar: hostProfile?.avatar_url || \"\",\n        host_occupation: hostProfile?.occupation || \"\",\n        user_rsvp: rsvpData?.status || null,\n        attendees: attendees.filter((a): a is Attendee => a !== null)\n      });\n\n      setIsLiked(!!likeData);\n    } catch (error) {\n      console.error(\"Error loading event details:\", error);\n    }\n  }, [eventId, currentUserId]);\n\n  const loadComments = useCallback(async () => {\n    if (!eventId) return;\n\n    try {\n      const { data, error } = await supabase\n        .from(\"event_comments\")\n        .select(\"*\")\n        .eq(\"event_id\", eventId)\n        .order(\"created_at\", { ascending: true });\n\n      if (error) throw error;\n\n      // Get user profile data for each comment\n      const commentsWithUsers = await Promise.all(\n        (data || []).map(async (comment) => {\n          const { data: profileData } = await supabase\n            .from(\"profiles\")\n            .select(\"full_name, avatar_url\")\n            .eq(\"id\", comment.user_id)\n            .single();\n\n          return {\n            ...comment,\n            user_name: profileData?.full_name || \"User\",\n            user_avatar: profileData?.avatar_url || \"\"\n          };\n        })\n      );\n\n      setComments(commentsWithUsers);\n    } catch (error) {\n      console.error(\"Error loading comments:\", error);\n    }\n  }, [eventId]);\n\n  useEffect(() => {\n    if (eventId) {\n      loadEventDetails();\n      loadComments();\n    }\n  }, [eventId, loadEventDetails, loadComments]);\n\n  const handleLike = async () => {\n    if (!eventId) return;\n\n    try {\n      if (isLiked) {\n        // Unlike\n        await supabase\n          .from(\"event_likes\")\n          .delete()\n          .eq(\"event_id\", eventId)\n          .eq(\"user_id\", currentUserId);\n\n        await supabase.rpc(\"decrement_event_likes\", { event_id: eventId });\n      } else {\n        // Like\n        await supabase\n          .from(\"event_likes\")\n          .insert({ event_id: eventId, user_id: currentUserId });\n\n        await supabase.rpc(\"increment_event_likes\", { event_id: eventId });\n      }\n\n      setIsLiked(!isLiked);\n      loadEventDetails();\n      onUpdate();\n    } catch (error) {\n      console.error(\"Error toggling like:\", error);\n    }\n  };\n\n  const handleRSVP = async (status: \"going\" | \"interested\") => {\n    if (isRSVPing || !eventId || !event) return;\n    setIsRSVPing(true);\n\n    try {\n      if (event.user_rsvp === status) {\n        // Remove RSVP\n        await supabase\n          .from(\"event_rsvps\")\n          .delete()\n          .eq(\"event_id\", eventId)\n          .eq(\"user_id\", currentUserId);\n\n        const field = status === \"going\" ? \"going_count\" : \"interested_count\";\n        await supabase\n          .from(\"events\")\n          .update({ [field]: Math.max(0, event[field] - 1) })\n          .eq(\"id\", eventId);\n      } else {\n        await supabase\n          .from(\"event_rsvps\")\n          .upsert({\n            event_id: eventId,\n            user_id: currentUserId,\n            status\n          });\n\n        if (event.user_rsvp) {\n          const oldField = event.user_rsvp === \"going\" ? \"going_count\" : \"interested_count\";\n          const newField = status === \"going\" ? \"going_count\" : \"interested_count\";\n          \n          await supabase\n            .from(\"events\")\n            .update({\n              [oldField]: Math.max(0, event[oldField] - 1),\n              [newField]: event[newField] + 1\n            })\n            .eq(\"id\", eventId);\n        } else {\n          const field = status === \"going\" ? \"going_count\" : \"interested_count\";\n          await supabase\n            .from(\"events\")\n            .update({ [field]: event[field] + 1 })\n            .eq(\"id\", eventId);\n        }\n      }\n\n      loadEventDetails();\n      onUpdate();\n    } catch (error) {\n      console.error(\"Error updating RSVP:\", error);\n    } finally {\n      setIsRSVPing(false);\n    }\n  };\n\n  const handleDelete = async () => {\n    if (isDeleting || !event) return;\n    setIsDeleting(true);\n\n    try {\n      // Delete the post (cascade will handle related data including the event)\n      const { error } = await supabase\n        .from(\"posts\")\n        .delete()\n        .eq(\"id\", event.post_id)\n        .eq(\"user_id\", currentUserId); // Extra safety check\n\n      if (error) throw error;\n\n      onUpdate();\n      onClose();\n    } catch (error) {\n      console.error(\"Error deleting event:\", error);\n      alert(\"Failed to delete event. Please try again.\");\n    } finally {\n      setIsDeleting(false);\n      setShowDeleteConfirm(false);\n    }\n  };\n\n  const handleSubmitComment = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!newComment.trim() || !eventId) return;\n\n    setLoading(true);\n\n    try {\n      const { error } = await supabase\n        .from(\"event_comments\")\n        .insert({\n          event_id: eventId,\n          user_id: currentUserId,\n          content: newComment.trim()\n        });\n\n      if (error) throw error;\n\n      await supabase.rpc(\"increment_event_comments\", { event_id: eventId });\n\n      setNewComment(\"\");\n      loadComments();\n      loadEventDetails();\n      onUpdate();\n    } catch (error) {\n      console.error(\"Error posting comment:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleShare = () => {\n    const url = `${window.location.origin}/community?event=${eventId}`;\n    navigator.clipboard.writeText(url);\n    alert(\"Link copied to clipboard!\");\n  };\n\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString);\n    return date.toLocaleString('en-US', { \n      month: 'long', \n      day: 'numeric', \n      year: 'numeric',\n      hour: 'numeric',\n      minute: '2-digit'\n    });\n  };\n\n  const formatCommentDate = (dateString: string) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', { \n      day: 'numeric',\n      month: 'long',\n      hour: 'numeric',\n      minute: '2-digit'\n    });\n  };\n\n  if (!eventId || !event) return null;\n\n  const totalAttendees = event.going_count + event.interested_count;\n  const isHost = event.user_id === currentUserId;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm\" onClick={onClose}>\n      <div \n        className=\"relative w-full max-w-3xl mx-4 bg-white rounded-2xl shadow-2xl max-h-[90vh] overflow-y-auto\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Close Button */}\n        <button\n          onClick={onClose}\n          className=\"absolute top-4 right-4 z-10 text-gray-400 hover:text-gray-600 transition bg-white rounded-full p-2\"\n          aria-label=\"Close modal\"\n        >\n          <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n          </svg>\n        </button>\n\n        {/* Delete Button (only for host) */}\n        {isHost && (\n          <div className=\"absolute top-4 right-16 z-10\">\n            <button\n              onClick={() => setShowDeleteConfirm(!showDeleteConfirm)}\n              className=\"p-2 text-gray-400 hover:text-red-600 transition bg-white rounded-full\"\n              aria-label=\"Delete event\"\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n              </svg>\n            </button>\n\n            {showDeleteConfirm && (\n              <div className=\"absolute right-0 top-12 bg-white rounded-lg shadow-lg border border-gray-200 p-4 z-20 w-64\">\n                <p className=\"text-sm text-gray-700 mb-3\">Are you sure you want to delete this event?</p>\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={handleDelete}\n                    disabled={isDeleting}\n                    className=\"flex-1 px-3 py-2 bg-red-600 text-white rounded-md text-sm font-medium hover:bg-red-700 transition disabled:opacity-50\"\n                  >\n                    {isDeleting ? \"Deleting...\" : \"Delete\"}\n                  </button>\n                  <button\n                    onClick={() => setShowDeleteConfirm(false)}\n                    className=\"flex-1 px-3 py-2 bg-gray-100 text-gray-700 rounded-md text-sm font-medium hover:bg-gray-200 transition\"\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Event Image */}\n        <div className=\"relative h-72 bg-gray-200 rounded-t-2xl overflow-hidden\">\n          {event.event_image ? (\n            <Image\n              src={event.event_image}\n              alt={event.title}\n              fill\n              className=\"object-cover\"\n            />\n          ) : (\n            <div className=\"w-full h-full flex items-center justify-center bg-gradient-to-br from-[#162f16] to-[#2a4a2a]\">\n              <svg className=\"w-24 h-24 text-white/30\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n              </svg>\n            </div>\n          )}\n        </div>\n\n        <div className=\"p-8\">\n          {/* Event Header */}\n          <div className=\"mb-6\">\n            <h2 className=\"text-3xl font-semibold text-gray-900 mb-2\">{event.title}</h2>\n            <p className=\"text-gray-600\">{event.location || \"Virtual Event\"} || {formatDate(event.event_date)}</p>\n          </div>\n\n          {/* Attendees */}\n          <div className=\"flex items-center gap-3 mb-6\">\n            <div className=\"flex -space-x-2\">\n              {event.attendees.slice(0, 3).map((attendee, index) => (\n                attendee.avatar_url ? (\n                  <Image\n                    key={index}\n                    src={attendee.avatar_url}\n                    alt={attendee.full_name}\n                    width={40}\n                    height={40}\n                    className=\"rounded-full border-2 border-white object-cover\"\n                  />\n                ) : (\n                  <div \n                    key={index}\n                    className=\"w-10 h-10 rounded-full border-2 border-white bg-[#162f16] text-white flex items-center justify-center text-sm font-semibold\"\n                  >\n                    {attendee.full_name.charAt(0).toUpperCase()}\n                  </div>\n                )\n              ))}\n            </div>\n            <span className=\"text-gray-700 font-medium\">\n              {totalAttendees > 0 ? `${totalAttendees} + Going` : \"Be the first to join\"}\n            </span>\n          </div>\n\n          {/* Register Button */}\n          {event.meeting_link && (\n            <a\n              href={event.meeting_link}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"inline-block px-6 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition mb-6\"\n            >\n              Register here\n            </a>\n          )}\n\n          {/* Description */}\n          <p className=\"text-gray-700 mb-6 whitespace-pre-wrap\">{event.content}</p>\n\n          {/* Hosted By */}\n          <div className=\"flex items-center gap-3 mb-6 pb-6 border-b border-gray-200\">\n            <p className=\"text-sm text-gray-600 font-medium\">Hosted by</p>\n            {event.host_avatar ? (\n              <Image\n                src={event.host_avatar}\n                alt={event.host_name}\n                width={32}\n                height={32}\n                className=\"rounded-full object-cover max-w-10 max-h-10\" \n              />\n            ) : (\n              <div className=\"w-8 h-8 rounded-full bg-[#162f16] text-white flex items-center justify-center text-sm font-semibold\">\n                {event.host_name.charAt(0).toUpperCase()}\n              </div>\n            )}\n            <div>\n              <p className=\"text-sm font-medium text-gray-900\">{event.host_name}</p>\n              {event.host_occupation && (\n                <p className=\"text-xs text-gray-600\">{event.host_occupation}</p>\n              )}\n            </div>\n          </div>\n\n          {/* Likes */}\n          <div className=\"flex items-center gap-2 mb-6\">\n            <button\n              onClick={handleLike}\n              className=\"flex items-center gap-2 text-gray-600 hover:text-red-600 transition\"\n            >\n              <svg\n                className={`w-6 h-6 ${isLiked ? \"fill-red-600 text-red-600\" : \"fill-none\"}`}\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\n                />\n              </svg>\n              <span className=\"text-sm font-medium\">{event.likes_count || 0}</span>\n            </button>\n          </div>\n\n          {/* Comments Section */}\n          <div className=\"mb-6\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Comments</h3>\n            <div className=\"space-y-4 mb-4\">\n              {comments.length === 0 ? (\n                <p className=\"text-sm text-gray-500 text-center py-4\">No comments yet. Be the first to comment!</p>\n              ) : (\n                comments.map((comment) => (\n                  <div key={comment.id} className=\"flex gap-3\">\n                    {comment.user_avatar ? (\n                      <Image\n                        src={comment.user_avatar}\n                        alt={comment.user_name}\n                        width={40}\n                        height={40}\n                        className=\"rounded-full object-cover max-w-10 max-h-10\"\n                      />\n                    ) : (\n                      <div className=\"w-8 h-8 rounded-full bg-[#162f16] text-white flex items-center justify-center text-sm font-semibold\">\n                        {comment.user_name.charAt(0).toUpperCase()}\n                      </div>\n                    )}\n                    <div className=\"flex-1\">\n                      <p className=\"font-medium text-sm text-gray-900\">{comment.user_name}</p>\n                      <p className=\"text-xs text-gray-500 mb-2\">{formatCommentDate(comment.created_at)}</p>\n                      <p className=\"text-sm text-gray-700\">{comment.content}</p>\n                    </div>\n                  </div>\n                ))\n              )}\n            </div>\n\n            {/* Add Comment Form */}\n            <form onSubmit={handleSubmitComment} className=\"flex gap-3\">\n              <input\n                type=\"text\"\n                value={newComment}\n                onChange={(e) => setNewComment(e.target.value)}\n                placeholder=\"Write a comment...\"\n                className=\"flex-1 px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#162f16] text-sm\"\n              />\n              <button\n                type=\"submit\"\n                disabled={loading || !newComment.trim()}\n                className=\"px-4 py-2 bg-[#162f16] text-white rounded-lg text-sm font-medium hover:bg-[#0f2310] transition disabled:opacity-50\"\n              >\n                {loading ? \"Posting...\" : \"Post\"}\n              </button>\n            </form>\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"flex items-center gap-3 pt-6 border-t border-gray-200\">\n            <button\n              onClick={handleShare}\n              className=\"px-6 py-3 bg-white border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition\"\n            >\n              Share\n            </button>\n            <button\n              onClick={() => handleRSVP(\"going\")}\n              disabled={isRSVPing}\n              className={`flex-1 px-6 py-3 rounded-lg font-medium transition ${\n                event.user_rsvp === \"going\"\n                  ? \"bg-[#162f16] text-white\"\n                  : \"bg-[#162f16] text-white hover:bg-[#0f2310]\"\n              }`}\n            >\n              {event.user_rsvp === \"going\" ? \"Going\" : \"I am going\"}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3316, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohith/Desktop/Progrize_landing-main/app/community/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { supabase } from \"@/lib/supabase\";\nimport { useRouter } from \"next/navigation\";\nimport type { User } from \"@supabase/supabase-js\";\nimport Navbar from \"../Navbar\";\nimport CreatePostModal from \"../components/CreatePostModal\";\nimport PostCard from \"../components/PostCard\";\nimport CreateEventModal from \"../components/CreateEventModal\";\nimport EventCard from \"../components/EventCard\";\nimport EventDetailModal from \"../components/EventDetailModal\";\n\ntype PostType = \"all\" | \"discussion\" | \"job_opportunity\" | \"event\";\ntype SortType = \"latest\" | \"top\";\n\ninterface PostLike {\n  user_id: string;\n}\n\ninterface EventData {\n  id: string;\n  post_id: string;\n  event_date: string;\n  location: string;\n  meeting_link: string;\n  going_count: number;\n  interested_count: number;\n  likes_count: number;\n  comments_count: number;\n  user_rsvp: string | null;\n  event_image: string | null;\n  title: string;\n  content: string;\n  user_id: string;\n  user_name: string;\n  user_avatar: string;\n  attendees: Array<{ avatar_url: string; full_name: string }>;\n}\n\ninterface Post {\n  id: string;\n  post_type: string;\n  title: string;\n  content: string;\n  tags: string[];\n  likes_count: number;\n  comments_count: number;\n  created_at: string;\n  user_id: string;\n  user_name: string;\n  user_avatar: string;\n  user_occupation: string;\n  is_liked: boolean;\n  post_likes?: PostLike[];\n  events?: EventData[];\n  event?: {\n    id: string;\n    event_date: string;\n    location: string;\n    meeting_link: string;\n    going_count: number;\n    interested_count: number;\n    user_rsvp: string | null;\n  };\n}\n\nexport default function CommunityPage() {\n  const router = useRouter();\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [posts, setPosts] = useState<Post[]>([]);\n  const [events, setEvents] = useState<EventData[]>([]);\n  const [filteredPosts, setFilteredPosts] = useState<Post[]>([]);\n  const [createPostOpen, setCreatePostOpen] = useState(false);\n  const [createEventOpen, setCreateEventOpen] = useState(false);\n  const [selectedEventId, setSelectedEventId] = useState<string | null>(null);\n  const [activeTab, setActiveTab] = useState<\"feed\" | \"events\">(\"feed\");\n  const [postTypeFilter, setPostTypeFilter] = useState<PostType>(\"all\");\n  const [sortBy, setSortBy] = useState<SortType>(\"latest\");\n  const [selectedTags, setSelectedTags] = useState<string[]>([]);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const checkAuth = useCallback(async () => {\n    const { data: { user } } = await supabase.auth.getUser();\n    if (!user) {\n      router.push(\"/\");\n      return;\n    }\n    setUser(user);\n    setLoading(false);\n  }, [router]);\n\n  const loadPosts = useCallback(async () => {\n    if (!user) return;\n\n    try {\n      let query = supabase\n        .from(\"posts\")\n        .select(`\n          *,\n          post_likes!left(user_id),\n          events!left(*)\n        `);\n\n      if (sortBy === \"latest\") {\n        query = query.order(\"created_at\", { ascending: false });\n      } else {\n        query = query.order(\"likes_count\", { ascending: false });\n      }\n\n      const { data, error } = await query;\n\n      if (error) throw error;\n\n      const postsWithUsers = await Promise.all(\n        (data || []).map(async (post) => {\n          const { data: profileData } = await supabase\n            .from(\"profiles\")\n            .select(\"full_name, avatar_url, occupation\")\n            .eq(\"id\", post.user_id)\n            .single();\n\n          const isLiked = post.post_likes?.some((like: PostLike) => like.user_id === user?.id) || false;\n          \n          let eventData = null;\n          if (post.post_type === \"event\" && post.events && post.events.length > 0) {\n            const event = post.events[0];\n            const { data: rsvpData } = await supabase\n              .from(\"event_rsvps\")\n              .select(\"status\")\n              .eq(\"event_id\", event.id)\n              .eq(\"user_id\", user?.id)\n              .single();\n\n            eventData = {\n              ...event,\n              user_rsvp: rsvpData?.status || null\n            };\n          }\n\n          return {\n            ...post,\n            user_name: profileData?.full_name || \"User\",\n            user_avatar: profileData?.avatar_url || \"\",\n            user_occupation: profileData?.occupation || \"\",\n            is_liked: isLiked,\n            event: eventData\n          };\n        })\n      );\n\n      setPosts(postsWithUsers);\n    } catch (error) {\n      console.error(\"Error loading posts:\", error);\n    }\n  }, [user, sortBy]);\n\n  const loadEvents = useCallback(async () => {\n    if (!user) return;\n\n    try {\n      let query = supabase\n        .from(\"events\")\n        .select(`\n          *,\n          posts!inner(*)\n        `);\n\n      if (sortBy === \"latest\") {\n        query = query.order(\"event_date\", { ascending: false });\n      } else {\n        query = query.order(\"going_count\", { ascending: false });\n      }\n\n      const { data, error } = await query;\n\n      if (error) throw error;\n\n      const eventsWithDetails = await Promise.all(\n        (data || []).map(async (event) => {\n          const post = event.posts;\n          \n          // Get host profile\n          const { data: profileData } = await supabase\n            .from(\"profiles\")\n            .select(\"full_name, avatar_url\")\n            .eq(\"id\", post.user_id)\n            .single();\n\n          // Get user's RSVP status\n          const { data: rsvpData } = await supabase\n            .from(\"event_rsvps\")\n            .select(\"status\")\n            .eq(\"event_id\", event.id)\n            .eq(\"user_id\", user?.id)\n            .single();\n\n          // Get attendees for avatars\n          const { data: attendeesData } = await supabase\n            .from(\"event_rsvps\")\n            .select(\"user_id\")\n            .eq(\"event_id\", event.id)\n            .eq(\"status\", \"going\")\n            .limit(5);\n\n          const attendees = await Promise.all(\n            (attendeesData || []).map(async (rsvp) => {\n              const { data: profile } = await supabase\n                .from(\"profiles\")\n                .select(\"full_name, avatar_url\")\n                .eq(\"id\", rsvp.user_id)\n                .single();\n              return profile;\n            })\n          );\n\n          return {\n            ...event,\n            post_id: post.id,\n            title: post.title,\n            content: post.content,\n            event_image: post.event_image,\n            user_id: post.user_id,\n            user_name: profileData?.full_name || \"User\",\n            user_avatar: profileData?.avatar_url || \"\",\n            user_rsvp: rsvpData?.status || null,\n            attendees: attendees.filter(Boolean)\n          };\n        })\n      );\n\n      setEvents(eventsWithDetails);\n    } catch (error) {\n      console.error(\"Error loading events:\", error);\n    }\n  }, [user, sortBy]);\n\n  const filterPosts = useCallback(() => {\n    let filtered = [...posts];\n\n    if (activeTab === \"events\") {\n      filtered = filtered.filter(p => p.post_type === \"event\");\n    }\n\n    if (postTypeFilter !== \"all\") {\n      filtered = filtered.filter(p => p.post_type === postTypeFilter);\n    }\n\n    if (selectedTags.length > 0) {\n      filtered = filtered.filter(p => \n        p.tags && p.tags.some(tag => selectedTags.includes(tag))\n      );\n    }\n\n    if (searchQuery.trim()) {\n      filtered = filtered.filter(p =>\n        p.tags && p.tags.some(tag => \n          tag.toLowerCase().includes(searchQuery.toLowerCase())\n        )\n      );\n    }\n\n    setFilteredPosts(filtered);\n  }, [posts, activeTab, postTypeFilter, selectedTags, searchQuery]);\n\n  const filterEvents = useCallback(() => {\n    let filtered = [...events];\n\n    if (searchQuery.trim()) {\n      filtered = filtered.filter(e =>\n        e.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        e.content.toLowerCase().includes(searchQuery.toLowerCase())\n      );\n    }\n\n    return filtered;\n  }, [events, searchQuery]);\n\n  useEffect(() => {\n    checkAuth();\n  }, [checkAuth]);\n\n  useEffect(() => {\n    loadPosts();\n    loadEvents();\n  }, [loadPosts, loadEvents]);\n\n  useEffect(() => {\n    filterPosts();\n  }, [filterPosts]);\n\n  const handleAuthClick = () => {\n    router.push(\"/\");\n  };\n\n  const getAllTags = () => {\n    const tags = new Set<string>();\n    posts.forEach(post => {\n      if (post.tags) {\n        post.tags.forEach(tag => tags.add(tag));\n      }\n    });\n    return Array.from(tags);\n  };\n\n  const getTopHashtags = () => {\n    const tagCounts = new Map<string, number>();\n    posts.forEach(post => {\n      if (post.tags) {\n        post.tags.forEach(tag => {\n          tagCounts.set(tag, (tagCounts.get(tag) || 0) + 1);\n        });\n      }\n    });\n    return Array.from(tagCounts.entries())\n      .sort((a, b) => b[1] - a[1])\n      .slice(0, 5);\n  };\n\n  const toggleTag = (tag: string) => {\n    setSelectedTags(prev =>\n      prev.includes(tag) ? prev.filter(t => t !== tag) : [...prev, tag]\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <p className=\"text-gray-600\">Loading...</p>\n      </div>\n    );\n  }\n\n  const filteredEventsData = filterEvents();\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Navbar onAuthClick={handleAuthClick} />\n\n      <div className=\"max-w-7xl mx-auto px-6 py-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-4xl font-regular text-gray-900 mb-2\">\n            Welcome Back, {user?.user_metadata?.full_name || user?.email?.split('@')[0] || 'User'}\n          </h1>\n          <p className=\"text-gray-600\">Connect, share, and grow with fellow professionals</p>\n        </div>\n\n        {/* Tabs */}\n        <div className=\"flex items-center gap-4 mb-6 border-b border-gray-200\">\n          <button\n            onClick={() => setActiveTab(\"feed\")}\n            className={`pb-3 px-4 font-medium transition ${\n              activeTab === \"feed\"\n                ? \"text-[#162f16] border-b-2 border-[#162f16]\"\n                : \"text-gray-600 hover:text-gray-900\"\n            }`}\n          >\n            Live Feed\n          </button>\n          <button\n            onClick={() => setActiveTab(\"events\")}\n            className={`pb-3 px-4 font-medium transition ${\n              activeTab === \"events\"\n                ? \"text-[#162f16] border-b-2 border-[#162f16]\"\n                : \"text-gray-600 hover:text-gray-900\"\n            }`}\n          >\n            Events\n          </button>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\n          {/* Sidebar - Filters */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"bg-white rounded-xl p-6 border border-gray-200 sticky top-6 space-y-6\">\n              {/* Search Tags */}\n              <div>\n                <input\n                  type=\"text\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  placeholder=\"Search tags (#JLUX)\"\n                  className=\"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#162f16] text-sm\"\n                />\n              </div>\n\n              {activeTab === \"feed\" && (\n                <>\n                  {/* Post Type Filter */}\n                  <div>\n                    <p className=\"text-sm text-gray-700 mb-2 font-medium\">Post Type</p>\n                    <div className=\"space-y-2\">\n                      {[\"all\", \"discussion\", \"job_opportunity\", \"event\"].map((type) => (\n                        <label key={type} className=\"flex items-center gap-2 cursor-pointer\">\n                          <input\n                            type=\"radio\"\n                            name=\"postType\"\n                            checked={postTypeFilter === type}\n                            onChange={() => setPostTypeFilter(type as PostType)}\n                            className=\"w-4 h-4 text-[#162f16]\"\n                          />\n                          <span className=\"text-sm text-gray-700 capitalize\">\n                            {type.replace(\"_\", \" \")}\n                          </span>\n                        </label>\n                      ))}\n                    </div>\n                  </div>\n\n                  {/* Tags Filter */}\n                  <div>\n                    <p className=\"text-sm text-gray-700 mb-2 font-medium\">Tags</p>\n                    <div className=\"flex flex-wrap gap-2\">\n                      {getAllTags().map((tag) => (\n                        <button\n                          key={tag}\n                          onClick={() => toggleTag(tag)}\n                          className={`px-3 py-1 rounded-full text-xs font-medium transition ${\n                            selectedTags.includes(tag)\n                              ? \"bg-[#162f16] text-white\"\n                              : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\n                          }`}\n                        >\n                          #{tag}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                </>\n              )}\n\n              {/* Top Hashtags */}\n              <div>\n                <div className=\"flex items-center gap-2 mb-3\">\n                  <span className=\"text-lg\"></span>\n                  <p className=\"text-sm text-gray-700 font-medium\">Top Hashtag</p>\n                </div>\n                <div className=\"space-y-2\">\n                  {getTopHashtags().map(([tag, count]) => (\n                    <div key={tag} className=\"flex items-center justify-between\">\n                      <button\n                        onClick={() => toggleTag(tag)}\n                        className=\"text-sm text-gray-700 hover:text-[#162f16] transition\"\n                      >\n                        #{tag}\n                      </button>\n                      <span className=\"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs font-medium\">\n                        {count}\n                      </span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Main Content */}\n          <div className=\"lg:col-span-3\">\n            {/* Action Bar */}\n            <div className=\"bg-white rounded-xl p-4 mb-6 border border-gray-200 flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                <button\n                  onClick={() => setCreatePostOpen(true)}\n                  className=\"px-4 py-2 bg-[#162f16] text-white rounded-md text-sm font-medium hover:bg-[#0f2310] transition\"\n                >\n                  Create Post\n                </button>\n                {activeTab === \"events\" && (\n                  <button\n                    onClick={() => setCreateEventOpen(true)}\n                    className=\"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-md text-sm font-medium hover:bg-gray-50 transition\"\n                  >\n                    Create Event\n                  </button>\n                )}\n              </div>\n\n              {/* Sort */}\n              <div className=\"flex items-center gap-2\">\n                <span className=\"text-sm text-gray-600\">Sort by:</span>\n                <select\n                  value={sortBy}\n                  onChange={(e) => setSortBy(e.target.value as SortType)}\n                  className=\"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-[#162f16]\"\n                >\n                  <option value=\"latest\">Latest</option>\n                  <option value=\"top\">Top</option>\n                </select>\n              </div>\n            </div>\n\n            {/* Content Feed */}\n            {activeTab === \"feed\" ? (\n              <div className=\"space-y-4\">\n                {filteredPosts.length === 0 ? (\n                  <div className=\"bg-white rounded-xl p-12 text-center border border-gray-200\">\n                    <p className=\"text-gray-600\">No posts found. Be the first to post!</p>\n                  </div>\n                ) : (\n                  filteredPosts.map((post) => (\n                    <PostCard\n                      key={post.id}\n                      post={post}\n                      currentUserId={user?.id || \"\"}\n                      onUpdate={loadPosts}\n                    />\n                  ))\n                )}\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                {filteredEventsData.length === 0 ? (\n                  <div className=\"col-span-2 bg-white rounded-xl p-12 text-center border border-gray-200\">\n                    <p className=\"text-gray-600\">No events found. Create the first event!</p>\n                  </div>\n                ) : (\n                  filteredEventsData.map((event) => (\n                    <EventCard\n                      key={event.id}\n                      event={event}\n                      currentUserId={user?.id || \"\"}\n                      onUpdate={loadEvents}\n                      onOpenDetail={setSelectedEventId}\n                    />\n                  ))\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Modals */}\n      <CreatePostModal\n        isOpen={createPostOpen}\n        onClose={() => setCreatePostOpen(false)}\n        onSuccess={loadPosts}\n        userId={user?.id || \"\"}\n      />\n\n      <CreateEventModal\n        isOpen={createEventOpen}\n        onClose={() => setCreateEventOpen(false)}\n        onSuccess={() => {\n          loadPosts();\n          loadEvents();\n        }}\n        userId={user?.id || \"\"}\n      />\n\n      <EventDetailModal\n        eventId={selectedEventId}\n        currentUserId={user?.id || \"\"}\n        onClose={() => setSelectedEventId(null)}\n        onUpdate={() => {\n          loadPosts();\n          loadEvents();\n        }}\n      />\n    </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}